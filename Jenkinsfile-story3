pipeline {
  agent any

  environment {
    OTEL_SERVICE_NAME = 'jenkins-ci'
    OTEL_EXPORTER_OTLP_ENDPOINT = 'http://localhost:4317'
  }

  stages {

    stage('Build Start') {
      steps {
        echo "Job Name     : ${env.JOB_NAME}"
        echo "Build Number : ${env.BUILD_NUMBER}"
        echo "Node         : ${env.NODE_NAME}"
      }
    }

    stage('Work') {
      steps {
        sh 'sleep 5'
        echo "Simulating build work"
      }
    }

    stage('Build End') {
      steps {
        echo "Build Status : ${currentBuild.currentResult}"
      }
    }
  }
}
